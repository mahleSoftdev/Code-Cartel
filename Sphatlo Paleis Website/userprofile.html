<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Sphatlo Paleis â€” User Profile</title>

  <!--
    userprofile.html
    - Simple profile page consistent with home/menu styles.
    - Small JS uses localStorage to demo saving profile data (no backend).
    - For production, replace with server-side auth and secure storage.
  -->
  <style>
    /* -------------------------------------------------------------------
       GENERAL
       - keep look consistent with home/menu pages
       ------------------------------------------------------------------- */
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: white;
      color: #222;
    }

    /* -------------------------------------------------------------------
       HEADER
       - same red header and left-positioned avatar used on home.html
       ------------------------------------------------------------------- */
    header {
      background: red;
      color: white;
      text-align: center;
      padding: 10px 5px;
      position: relative;   /* allows absolutely positioned avatar */
      min-height: 100px;
    }

    header img.logo {
      display: block;
      margin: 0 auto;
      max-width: 20%;
      height: auto;
    }

    /* Avatar is centered vertically on the left edge of the header */
    header a.avatar-link {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      display: block;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }

    header a.avatar-link img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* -------------------------------------------------------------------
       NAV
       ------------------------------------------------------------------- */
    nav {
      background: yellow;
      padding: 10px;
      text-align: center;
    }

    nav a {
      color: red;
      text-decoration: none;
      margin: 0 15px;
      font-weight: bold;
    }

    nav a:hover { text-decoration: underline; }

    /* -------------------------------------------------------------------
       PROFILE CARD
       - centered card containing profile fields and actions
       ------------------------------------------------------------------- */
    .container {
      max-width: 720px;
      margin: 30px auto;
      padding: 0 20px;
    }

    .profile-card {
      background: #fff3cd;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 8px rgba(0,0,0,0.08);
    }

    .profile-header {
      display: flex;
      gap: 20px;
      align-items: center;
      margin-bottom: 10px;
    }

    .profile-header .avatar-large {
      width: 100px;
      height: 100px;
      border-radius: 10px;
      object-fit: cover;
      border: 3px solid #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.12);
    }

    .profile-form label { display: block; margin-top: 12px; font-weight: bold; }
    .profile-form input,
    .profile-form select {
      width: 100%;
      padding: 8px;
      margin-top: 6px;
      border-radius: 4px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }

    .actions {
      display: flex;
      gap: 10px;
      margin-top: 16px;
    }

    .btn {
      background: red;
      color: white;
      border: none;
      padding: 10px 14px;
      border-radius: 6px;
      cursor: pointer;
    }

    .btn.secondary {
      background: gray;
    }

    .note { margin-top: 8px; color: #666; font-size: 13px; }

    /* small responsive tweak */
    @media (max-width: 520px) {
      header a.avatar-link { left: 8px; width: 60px; height: 60px; }
      .profile-header { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body>
  <!-- HEADER: logo + linked avatar (back to profile) -->
  <header>
    <a href="userprofile.html" class="avatar-link" title="Profile">
      <img src="images/alone silver surfer.jpeg" alt="User avatar">
    </a>

    <img src="images/logo.png" alt="Sphatlo Paleis Logo" class="logo">
    <h1 style="margin:8px 0 0 0; font-size:20px;">User Profile</h1>
  </header>

  <!-- NAVIGATION -->
  <nav>
    <a href="home.html">Home</a>
    <a href="menu.html">Menu</a>
    <a href="#">Contact</a>
    <a href="#">Contact</a>
    <a href="#">About Us</a>
  </nav>

  <!-- PROFILE CONTENT -->
  <main class="container">
    <section class="profile-card" aria-labelledby="profileTitle">
      <h2 id="profileTitle">Your details</h2>

      <!-- profile header showing larger avatar and username -->
      <div class="profile-header">
        <img id="avatarPreview" class="avatar-large" src="images/alone silver surfer.jpeg" alt="Avatar preview">
        <div>
          <div id="displayName" style="font-weight:700; font-size:18px;">Guest</div>
          <div class="note">Update your details below. This demo saves to localStorage only.</div>
        </div>
      </div>

      <!-- profile form -->
      <form id="profileForm" class="profile-form" onsubmit="saveProfile(event)">
        <label for="fullName">Full name</label>
        <input id="fullName" name="fullName" type="text" placeholder="John Doe">

        <label for="email">Email</label>
        <input id="email" name="email" type="email" placeholder="you@example.com">

        <label for="phone">Phone</label>
        <input id="phone" name="phone" type="tel" placeholder="+27 7xx xxx xxxx">

        <div class="actions">
          <button class="btn" type="submit">Save Profile</button>
          <button class="btn secondary" type="button" onclick="logout()">Logout</button>
        </div>
      </form>
    </section>
  </main>

  <footer style="background:red;color:white;text-align:center;padding:12px 0;margin-top:30px;">
    &copy; 2025 Sphatlo Paleis
  </footer>

  <script>

    const form = document.getElementById('profileForm');
    const avatarInput = document.getElementById('avatar');
    const avatarPreview = document.getElementById('avatarPreview');
    const displayName = document.getElementById('displayName');

    // Load saved profile (if any) when page opens
    function loadProfile() {
      try {
        const raw = localStorage.getItem('sphatlo_profile');
        if (!raw) return;
        const profile = JSON.parse(raw);
        document.getElementById('fullName').value = profile.fullName || '';
        document.getElementById('email').value = profile.email || '';
        document.getElementById('phone').value = profile.phone || '';
        avatarInput.value = profile.avatar || '';
        if (profile.avatar) avatarPreview.src = profile.avatar;
        displayName.textContent = profile.fullName || 'Guest';
      } catch (e) {
        console.error('Failed to load profile', e);
      }
    }

    // Save profile to localStorage
    function saveProfile(e) {
      e.preventDefault();
      const profile = {
        fullName: document.getElementById('fullName').value.trim(),
        email: document.getElementById('email').value.trim(),
        phone: document.getElementById('phone').value.trim(),
        avatar: avatarInput.value.trim()
      };
      localStorage.setItem('sphatlo_profile', JSON.stringify(profile));
      if (profile.avatar) avatarPreview.src = profile.avatar;
      displayName.textContent = profile.fullName || 'Guest';
      alert('Profile saved (local demo).');
    }

    // Simple logout demo: clear stored profile and redirect to home
    function logout() {
      localStorage.removeItem('sphatlo_profile');
      window.location.href = 'home.html';
    }

    // Live update avatar preview when URL changes
    avatarInput.addEventListener('input', () => {
      const val = avatarInput.value.trim();
      avatarPreview.src = val || 'images/alone silver surfer.jpeg';
    });

    // initialize page
    loadProfile();
  </script>
</body>
</html>